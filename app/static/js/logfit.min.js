/*
 * LogFit.js v0.7.1
 */
!function(t){"use strict";var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={},this.setConfigs()}return e(t,[{key:"setConfigs",value:function(){this.setConfigWithDefault("source","logfit-test"),this.setConfigWithDefault("ingestEndpoint","https://ingest.log.fit/log")}},{key:"setConfigWithDefault",value:function(t,e){"undefined"!=typeof LogFitConfig&&t in LogFitConfig?this.config[t]=LogFitConfig[t]:this.config[t]=e}},{key:"report",value:function(){var t=this.generateData();this.post(t)}},{key:"generateData",value:function(){var e={};return e.path=window.location.href,e.referrer=document.referrer,e.user_agent=navigator.userAgent,e.user_token=this.getUserToken(),e.logfitjs_version=t.version,btoa(JSON.stringify(e))}},{key:"post",value:function(t){var e={source:this.config.source,data:t};this.ajax("POST",this.config.ingestEndpoint,e)}},{key:"ajax",value:function(t,e,n){var o=new XMLHttpRequest;o.open(t,e),o.setRequestHeader("Content-Type","application/json"),o.responseType="json";var i=JSON.stringify(n);o.send(i)}},{key:"getUserToken",value:function(){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}try{var e=localStorage.getItem("logfitToken");return e||(e=t(),localStorage.setItem("logfitToken",e)),e}catch(e){return t()}}}]),t}();n.version="v0.7.1",(new n).report()}("undefined"==typeof LogFit?LogFit={}:LogFit);
