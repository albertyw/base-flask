/*
 * LogFit.js v0.5.0
 */
!function(t){function o(){this.config={},this.setConfigs()}o.prototype.setConfigs=function(){this.version="v0.5.0",this.setConfigWithDefault("source","logfit-test"),this.setConfigWithDefault("ingestEndpoint","https://ingest.log.fit/log"),this.setConfigWithDefault("ipEndpoint","https://api.ipify.org?format=json")},o.prototype.setConfigWithDefault=function(t,o){"undefined"!=typeof LogFitConfig&&t in LogFitConfig?this.config[t]=LogFitConfig[t]:this.config[t]=o},o.prototype.report=function(){var o=this,n=window.location.href,i={};i.user_agent=navigator.userAgent,i.user_token=o.getUserToken();this.ajax("GET",o.config.ipEndpoint,null,function(t){i.ip=t.ip,o.post(n,i)})},o.prototype.post=function(t,o){var n={source:this.config.source,row_data:{line:o,path:t}};this.ajax("POST",this.config.ingestEndpoint,n,function(){})},o.prototype.ajax=function(t,o,n,i){var e=new XMLHttpRequest;e.open(t,o),e.setRequestHeader("Content-Type","application/json"),e.responseType="json",e.onload=function(){i(e.response)};var s=null;null!=n&&(s=JSON.stringify(n)),e.send(s)},o.prototype.getUserToken=function(){function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=16*Math.random()|0;return("x"==t?o:3&o|8).toString(16)})}try{var t=localStorage.getItem("logfitToken");return t||(t=o(),localStorage.setItem("logfitToken",t)),t}catch(t){return o()}},(new o).report()}("undefined"==typeof LogFit?LogFit={}:LogFit);
