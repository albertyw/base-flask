/*
 * LogFit.js v0.6.0
 */
!function(t){function e(){this.config={},this.setConfigs()}e.prototype.setConfigs=function(){this.version="v0.6.0",this.setConfigWithDefault("source","logfit-test"),this.setConfigWithDefault("ingestEndpoint","https://ingest.log.fit/log")},e.prototype.setConfigWithDefault=function(t,e){"undefined"!=typeof LogFitConfig&&t in LogFitConfig?this.config[t]=LogFitConfig[t]:this.config[t]=e},e.prototype.report=function(){const t=this.generateData();this.post(t)},e.prototype.generateData=function(){const t={};return t.path=window.location.href,t.referrer=document.referrer,t.user_agent=navigator.userAgent,t.user_token=this.getUserToken(),t.logfitjs_version=this.version,t},e.prototype.post=function(t){const e={source:this.config.source,row_data:t};this.ajax("POST",this.config.ingestEndpoint,e)},e.prototype.ajax=function(t,e,o,n){const i=new XMLHttpRequest;i.open(t,e),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=(()=>{n&&n(i.response)});let s=null;null!=o&&(s=JSON.stringify(o)),i.send(s)},e.prototype.getUserToken=function(){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}try{let e=localStorage.getItem("logfitToken");return e||(e=t(),localStorage.setItem("logfitToken",e)),e}catch(e){return t()}},(new e).report()}("undefined"==typeof LogFit?LogFit={}:LogFit);
